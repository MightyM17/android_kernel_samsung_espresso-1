/dts-v1/;

/include/ "omap443x.dtsi"
/include/ "samsung_k3pe7e700m.dtsi"

/ {
	model = "OMAP4 Espresso board";
	compatible = "ti,omap4-espresso", "ti,omap4430", "ti,omap4";

	memory {
		device_type = "memory";
		reg = <0x80000000 0x40000000>; /* 1 GB */
	};
};

&emif1 {
	cs1-used;
	device-handle = <&samsung_K3PE7E700M>;
};

&emif2 {
	cs1-used;
	device-handle = <&samsung_K3PE7E700M>;
};

&i2c1 {
	clock-frequency = <400000>;

	twl@48 {
		compatible = "ti,twl6025";
		interrupt-controller;
		#interrupt-cells = <1>;
		reg = <0x48>;
		/* SPI = 0, IRQ# = 7, 4 = active high level-sensitive */
		interrupts = <0 7 4>; /* IRQ_SYS_1N cascaded to gic */
		interrupt-parent = <&gic>;

		rtc {
			compatible = "ti,twl4030-rtc";
			interrupts = <11>;
		};

		twl_usb_comparator: usb-comparator {
			compatible = "ti,twl6030-usb";
			interrupts = <4>, <10>;
		};

		clk32kaudio: regulator-clk32kaudio {
			compatible = "ti,twl6030-clk32kaudio";
			regulator-always-on;
		};

		vana: regulator-vana {
			compatible = "ti,twl6030-vana";
			regulator-min-microvolt = <2100000>;
			regulator-max-microvolt = <2100000>;
			regulator-always-on;
		};

		ldo1: regulator-ldo1 {
			compatible = "ti,twl6025-ldo1";
			regulator-min-microvolt = <2800000>;
			regulator-max-microvolt = <2800000>;
			regulator-always-on;
		};

		ldo2: regulator-ldo2 {
			compatible = "ti,twl6025-ldo2";
			regulator-min-microvolt = <1000000>;
			regulator-max-microvolt = <3300000>;
		};

		ldo3: regulator-ldo3 {
			compatible = "ti,twl6025-ldo3";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
			regulator-always-on;
		};

		ldo4: regulator-ldo4 {
			compatible = "ti,twl6025-ldo4";
			regulator-min-microvolt = <2800000>;
			regulator-max-microvolt = <2800000>;
		};

		ldo5: regulator-ldo5 {
			compatible = "ti,twl6025-ldo5";
			regulator-min-microvolt = <1800000>;
			regulator-max-microvolt = <1800000>;
		};

		ldo6: regulator-ldo6 {
			compatible = "ti,twl6025-ldo6";
			regulator-min-microvolt = <1800000>;
			regulator-max-microvolt = <1800000>;
			regulator-always-on;
		};

		ldo7: regulator-ldo7 {
			compatible = "ti,twl6025-ldo7";
			regulator-min-microvolt = <1000000>;
			regulator-max-microvolt = <3300000>;
		};

		ldoln: regulator-ldoln {
			compatible = "ti,twl6025-ldoln";
			regulator-min-microvolt = <1000000>;
			regulator-max-microvolt = <3300000>;
		};

		ldousb: regulator-ldousb {
			compatible = "ti,twl6025-ldousb";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
		};
	};
};

&omap4_pmx_wkup {
	pinctrl-names = "default";
	pinctrl-0 = <
			&twl6030_wkup_pins
	>;

	twl6030_wkup_pins: pinmux_twl6030_wkup_pins {
		pinctrl-single,pins = <
			0x14 0x2        /* fref_clk0_out.sys_drm_msecure OUTPUT | MODE2 */
		>;
	};
};

&omap4_pmx_core {
	pinctrl-names = "default";
	pinctrl-0 = <
			&twl6030_pins
	>;

	twl6030_pins: pinmux_twl6030_pins {
		pinctrl-single,pins = <
			0x15e 0x4118	/* sys_nirq1.sys_nirq1 OMAP_WAKEUP_EN | INPUT_PULLUP | MODE0 */
		>;
	};
};

&twl_usb_comparator {
	usb-supply = <&ldousb>;
};

&usb_otg_hs {
	interface-type = <1>;
	mode = <3>;
	power = <50>;
};
